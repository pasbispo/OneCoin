<div id="campaigns-container"></div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const campaigns = JSON.parse(localStorage.getItem("userCampaigns")) || [];
    const container = document.getElementById("campaigns-container");

    campaigns.forEach((campanha, index) => {
        const div = document.createElement("div");
        div.classList.add("campanha-item");
        div.style.border = "1px solid gray";
        div.style.padding = "10px";
        div.style.margin = "10px";
        div.style.cursor = "pointer";

        // Mostra o nome e o período
        div.innerHTML = `
            <h3>${campanha.nome}</h3>
            <p>Período: ${campanha.periodo}</p>
            <p>Objetivo: ${campanha.objetivo}</p>
        `;

        // Mostra a primeira imagem, se houver
        if (campanha.imagens && campanha.imagens.length > 0) {
            const img = document.createElement("img");
            img.src = campanha.imagens[0];
            img.style.width = "100px";
            img.style.display = "block";
            div.appendChild(img);
        }

        // Redireciona com os dados da campanha na URL
        div.addEventListener("click", () => {
            const dataEncoded = encodeURIComponent(JSON.stringify(campanha));
            window.location.href = `meu-onecoin.html?data=${dataEncoded}`;
        });

        container.appendChild(div);
    });
});
</script>
